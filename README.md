# Migration

Это инструмент для управления миграциями базы данных. Он позволяет применить миграции к базе данных, а также выполнять откаты миграций. Инструмент использует SQL-файлы для описания изменений в базе данных и их откатов.

## Описание

Проект состоит из нескольких классов, которые обеспечивают:

- Чтение миграционных файлов и их сортировку.
- Применение миграций к базе данных.
- Откат миграций до указанной версии.
- Ведение учёта применённых миграций в базе данных.
## Структура проекта

- **MigrationFileReader** — класс, который читает миграционные и откатные файлы.
- **MigrationExecutor** — класс для выполнения миграций и откатов.
- **MigrationTool** — основной инструмент, который управляет процессом миграций.
- **MigrationFile** — класс, представляющий миграционный файл с версией, описанием и SQL-содержимым.
- **PropertiesUtils** — утилита для загрузки конфигурационных параметров из файла `application.properties`.

## Установка

### 1. Клонируйте репозиторий:

```bash
git clone git@github.com:DaniilHelenka/Migration.git
cd Migration
```
### 2. Зависимости
Убедитесь, что у вас установлены следующие зависимости:

- JDK 19 
- Maven 
### 3. Настройка
Перед тем, как начать использовать инструмент, вам необходимо настроить файл конфигурации базы данных.

Создайте файл `application.properties` в каталоге `src/main/resources` и добавьте следующие параметры:

```
db.url=jdbc:postgresql://localhost:5432/database
db.username=username
db.password=password
```
### 4. Запуск приложения
Для сборки проекта используйте Maven. В корне проекта выполните следующую команду:
```
mvn clean install
```
### 5.Запуск CLI-утилиты
Для запуска CLI-утилиты нужно использовать команду:
```
java -cp target/Database_Migration-1.0-SNAPSHOT.jar org.example.main.Main
```
Далее можно ипользовать команды:
```
migrate - для миграции.
rollback ->[номер версии] - выбор версии для rollback`a.
status - текущая версия.
exit - закончить программу.
```